# Environment Configuration Example
# Copy this file to .env and modify values as needed

# =================================
# Database Configuration
# =================================
DATABASE_PATH=./data/cybos.db
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# =================================
# API Server Configuration
# =================================
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=true
API_RELOAD=true
API_WORKERS=1

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
CORS_METHODS=["GET", "POST", "PUT", "DELETE"]
CORS_HEADERS=["*"]

# =================================
# Cybos Plus Configuration
# =================================
CYBOS_CONNECTION_TIMEOUT=30
CYBOS_REQUEST_LIMIT_PER_MINUTE=200
CYBOS_RETRY_ATTEMPTS=3
CYBOS_RETRY_DELAY=1.0

# Rate Limiting
CYBOS_TRADE_REQUEST_LIMIT=15
CYBOS_NONTRADE_REQUEST_LIMIT=200
CYBOS_SUBSCRIBE_LIMIT=40

# =================================
# Remote Server Configuration
# =================================
REMOTE_SERVER_URL=http://ubuntu-server:8080
REMOTE_API_KEY=your_secret_api_key_here
REMOTE_TIMEOUT=30
REMOTE_RETRY_ATTEMPTS=3
REMOTE_RETRY_DELAY=2.0

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_HOST=0.0.0.0
WEBSOCKET_PORT=8001

# =================================
# Logging Configuration
# =================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/cybos-server.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# Console Logging
LOG_CONSOLE_ENABLED=true
LOG_CONSOLE_LEVEL=INFO

# =================================
# Security Configuration
# =================================
SECRET_KEY=your_super_secret_key_change_this_in_production
API_KEY_HEADER=X-API-Key
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# =================================
# Performance Configuration
# =================================
ASYNC_POOL_SIZE=10
MAX_CONCURRENT_REQUESTS=50
REQUEST_TIMEOUT=30

# Cache Settings
CACHE_ENABLED=false
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# =================================
# Development Configuration
# =================================
DEVELOPMENT_MODE=true
PROFILING_ENABLED=false
DEBUG_SQL=false

# Testing
TEST_DATABASE_PATH=./data/test_cybos.db

# =================================
# Monitoring & Health Check
# =================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=60
METRICS_ENABLED=false
METRICS_PORT=9090

# =================================
# Stock Market Configuration
# =================================
MARKET_OPEN_TIME=09:00
MARKET_CLOSE_TIME=15:30
PRE_MARKET_TIME=08:30
AFTER_MARKET_TIME=16:00

# Default Stock Codes (comma-separated)
DEFAULT_WATCH_CODES=005930,000660,035420,051910,068270

# =================================
# Error Handling
# =================================
MAX_ERROR_RETRY=3
ERROR_ALERT_ENABLED=false
ERROR_EMAIL_RECIPIENTS=admin@example.com

# =================================
# Pair Trading Configuration
# =================================
# Cointegration Analysis
COINTEGRATION_METHOD=johansen
COINTEGRATION_WINDOW_DAYS=252
COINTEGRATION_MAX_P_VALUE=0.05
COINTEGRATION_MIN_HALF_LIFE=1
COINTEGRATION_MAX_HALF_LIFE=60

# Pair Selection
PAIR_MIN_CORRELATION=0.7
PAIR_MAX_PAIRS_PER_STOCK=5
PAIR_MIN_TRADING_VOLUME=100000
PAIR_MIN_PRICE=1000
PAIR_MAX_PRICE_RATIO=10.0

# =================================
# Trading Signal Configuration
# =================================
# Z-Score Thresholds
SIGNAL_ENTRY_Z_SCORE=2.0
SIGNAL_EXIT_Z_SCORE=0.5
SIGNAL_STOP_LOSS_Z_SCORE=3.0

# Signal Generation
SIGNAL_MIN_CONFIDENCE=0.6
SIGNAL_LOOKBACK_PERIOD=60
SIGNAL_SPREAD_WINDOW=20
SIGNAL_MAX_AGE_HOURS=24

# Position Sizing
SIGNAL_DEFAULT_POSITION_SIZE=100
SIGNAL_MAX_POSITION_SIZE=1000
SIGNAL_MIN_POSITION_VALUE=1000000
SIGNAL_MAX_POSITION_VALUE=100000000

# =================================
# Backtest Configuration
# =================================
# Backtest Period
BACKTEST_START_DATE=2023-01-01
BACKTEST_END_DATE=2024-12-31
BACKTEST_INITIAL_CAPITAL=100000000

# Backtest Costs
BACKTEST_COMMISSION_RATE=0.0015
BACKTEST_SLIPPAGE_RATE=0.001
BACKTEST_IMPACT_COST_RATE=0.0005

# Performance Metrics
BACKTEST_RISK_FREE_RATE=0.03
BACKTEST_BENCHMARK_CODE=000001
BACKTEST_MIN_TRADE_COUNT=10

# =================================
# Risk Management Configuration
# =================================
# Portfolio Risk
RISK_MAX_PORTFOLIO_EXPOSURE=0.8
RISK_MAX_PAIR_EXPOSURE=0.2
RISK_MAX_SINGLE_STOCK_EXPOSURE=0.15
RISK_MIN_CASH_RESERVE=0.2

# Position Risk
RISK_MAX_LEVERAGE=1.0
RISK_MAX_DRAWDOWN_PCT=0.15
RISK_STOP_LOSS_PCT=0.05
RISK_TAKE_PROFIT_PCT=0.10

# VaR (Value at Risk)
RISK_VAR_CONFIDENCE=0.95
RISK_VAR_HORIZON_DAYS=1
RISK_VAR_METHOD=historical

# Risk Alerts
RISK_ALERT_ENABLED=true
RISK_ALERT_DRAWDOWN_THRESHOLD=0.10
RISK_ALERT_VAR_THRESHOLD=5000000

# =================================
# Algorithm Trading Configuration
# =================================
# Trading Mode
TRADING_MODE=paper
TRADING_AUTO_EXECUTE=false
TRADING_DRY_RUN=true

# Execution
TRADING_MARKET_ORDER_SLIPPAGE=0.001
TRADING_LIMIT_ORDER_TIMEOUT=300
TRADING_MIN_ORDER_INTERVAL=60
TRADING_MAX_ORDERS_PER_MINUTE=10

# Strategy
TRADING_STRATEGY=pair_trading
TRADING_REBALANCE_INTERVAL=86400
TRADING_CHECK_INTERVAL=60

# =================================
# Background Service Configuration
# =================================
# Signal Generator
SIGNAL_GENERATOR_ENABLED=true
SIGNAL_GENERATOR_INTERVAL=300
SIGNAL_GENERATOR_MAX_SIGNALS=100

# Backtest Engine
BACKTEST_ENGINE_ENABLED=true
BACKTEST_QUEUE_SIZE=10
BACKTEST_MAX_CONCURRENT=2

# Market Data Update
MARKET_DATA_UPDATE_ENABLED=true
MARKET_DATA_UPDATE_INTERVAL=60
MARKET_DATA_HISTORY_DAYS=365
